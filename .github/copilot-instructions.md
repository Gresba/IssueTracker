## Quick context for AI coding agents

- Project: Next.js (App Router, Next 15) + Prisma (MySQL). UI in `app/`, server code in `app/api/`.
- Key files: `package.json` (scripts), `prisma/schema.prisma` (DB model), `app/generated/prisma` (generated Prisma client), `app/api/issues/route.ts` (example API route), `app/layout.tsx` (root layout + fonts), `app/NavBar.tsx` (client component example).

## Big-picture architecture

- Frontend and server code live together in the Next `app/` directory (App Router). Pages and server components default to React Server Components unless a file contains the `'use client'` directive (see `app/NavBar.tsx`).
- Server API endpoints are under `app/api/*` and use Next's `route.ts` pattern with `NextRequest` / `Response`. Example: `app/api/issues/route.ts`.
- Database access uses Prisma. The Prisma schema is at `prisma/schema.prisma`. The generator outputs a client into `app/generated/prisma` (this project config uses a custom output). Treat that folder as generated code — do not edit directly.

## Important patterns & conventions (repo-specific)

- Prisma client location: `app/generated/prisma`. Import from that generated client for server code. Example import patterns to use in server files:

```ts
// server-only file (api route, server component)
import { PrismaClient } from '@/app/generated/prisma'
const prisma = new PrismaClient()
```

- Avoid creating multiple PrismaClient instances in dev: prefer a singleton on `globalThis` if adding shared `lib/prisma.ts` (common Next/Prisma pattern) because HMR creates multiple instances otherwise.
- Do not edit anything under `app/generated/prisma` — it's generated by Prisma. Run `npx prisma generate` after schema changes.
- Client vs server components: Files that use browser-only hooks (useState, useEffect, next/navigation hooks like `usePathname`) must include `'use client'` at top (see `app/NavBar.tsx`).

## Workflows: build / run / prisma

- Dev server (Next):

```powershell
npm run dev
```

- Build / start:

```powershell
npm run build
npm run start
```

- Lint (ESLint):

```powershell
npm run lint
```

- Prisma migrations & client generation (when you change `prisma/schema.prisma`):

```powershell
npx prisma migrate dev --name describe_change
npx prisma generate
```

Notes: The project uses a MySQL datasource via `PRISMA_DATABASE_URL` in `.env`. The repository contains a `.env` value for local development; ensure your environment has correct credentials before running migrations.

## Integration and runtime notes

- Prisma generator config uses `engineType: library` and targets Windows (see `app/generated/prisma/index.js`). The generated client bundles native artifacts — be careful when changing generator config.
- `app/api/*` handlers run on the server. They should return `Response` or `NextResponse` and may import the Prisma client directly.
- Because the generated client sometimes contains both Node and edge variants, prefer importing the default export in server routes; verify runtime when moving code to edge environments.

## Small examples to reference when editing code

- Creating an issue (server route): use `request.json()` to parse body, validate with `zod`, then use `prisma.issues.create({ data: { ... } })` (model name `Issues` from `prisma/schema.prisma`). Fields: `title`, `description`, `status` (enum: OPEN, IN_PROGRESS, CLOSED).
- Root layout: `app/layout.tsx` shows font loading with `next/font/google` and where global CSS (`app/globals.css`) is applied.

## What NOT to change

- Do not edit generated files in `app/generated/prisma` or any file annotated "This is code generated by Prisma. Do not edit directly.".
- Avoid committing environment secrets (the repo `.gitignore` already excludes `.env*`).

## Where to look next (quick file map)

- `package.json` — npm scripts (dev/build/start/lint)
- `prisma/schema.prisma` — DB model and enum (Issues, Status)
- `app/generated/prisma` — generated Prisma client (do not edit)
- `app/api/issues/route.ts` — example API handler to read/write issues
- `app/layout.tsx`, `app/page.tsx`, `app/NavBar.tsx` — UI / routing patterns

If anything in these notes looks incomplete or you want examples copied into new helper files (e.g., a shared `lib/prisma.ts` singleton or a tested API-handler template), tell me which one and I'll add it.
